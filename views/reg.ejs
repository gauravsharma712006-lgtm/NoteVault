<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create User</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      overflow: hidden;
      position: relative;
    }

    /* Animated gradient background */
    .bg-gradient {
      position: fixed;
      inset: 0;
      background: linear-gradient(180deg, #000000 0%, #0a0a0a 40%, #1a1a1a 70%, #2d1b4e 100%);
      background-size: 100% 200%;
      animation: gradient-move 15s ease infinite;
      z-index: -2;
    }

    @keyframes gradient-move {
      0%, 100% { background-position: 0% 0%; }
      50% { background-position: 0% 100%; }
    }

    /* Floating orbs */
    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(60px);
      opacity: 0.3;
      animation: float 20s ease-in-out infinite;
    }

    .orb-1 { width: 400px; height: 400px; background: linear-gradient(45deg,#1e3a8a,#4c1d95); top:-100px; left:-100px; }
    .orb-2 { width: 350px; height: 350px; background: linear-gradient(135deg,#1e3a8a,#4c1d95); bottom:-100px; right:-100px; animation-delay:3s; }
    .orb-3 { width: 300px; height: 300px; background: linear-gradient(225deg,#581c87,#701a75); top:50%; left:50%; transform:translate(-50%,-50%); animation-delay:6s; }

    @keyframes float {
      0%,100% { transform: translate(0,0) scale(1); }
      33% { transform: translate(30px,-50px) scale(1.1); }
      66% { transform: translate(-30px,30px) scale(0.9); }
    }

    /* Bottom gradient */
    .bottom-gradient {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      height: 40%;
      background: linear-gradient(0deg, rgba(88,28,135,0.4), rgba(76,29,149,0.3), rgba(30,58,138,0.2), transparent);
      animation: wave-rise 8s ease-in-out infinite;
      z-index: -1;
    }

    @keyframes wave-rise {
      0%,100% { transform: translateY(10%); opacity: 0.4; }
      50% { transform: translateY(-5%); opacity: 0.6; }
    }

    /* Grid pattern */
    .grid-pattern {
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(30,30,30,.5) 1px, transparent 1px),
        linear-gradient(90deg, rgba(30,30,30,.5) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: grid-move 20s linear infinite;
      z-index: -1;
    }

    @keyframes grid-move {
      0% { transform: translate(0,0); }
      100% { transform: translate(50px,50px); }
    }

    /* Form enter animation */
    .form-enter {
      animation: slideUp 0.9s cubic-bezier(0.16,1,0.3,1) forwards;
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Input glow */
    .input-glow {
      position: relative;
      transition: transform 0.3s ease;
    }

    .input-glow::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 0.75rem;
      background: linear-gradient(45deg,#c0c0c0,#e5e5e5,#a8a8a8,#c0c0c0);
      background-size: 300% 300%;
      opacity: 0;
      z-index: -1;
      transition: opacity .3s ease;
      animation: gradient-shift 3s infinite;
    }

    .input-glow:hover::before,
    .input-glow:focus-within::before {
      opacity: 1;
    }

    @keyframes gradient-shift {
      0%,100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .fade { opacity:.2; transition:.4s ease; }

    /* Overlay */
    .overlay-center {
      position: fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background-color: rgba(0,0,0,.6);
      backdrop-filter: blur(12px);
      z-index:999;
    }

    .loader-wrapper {
      width:180px; height:180px;
      display:flex; align-items:center; justify-content:center;
      color:white; font-family:Inter;
    }

    .loader {
      position:absolute; inset:0;
      border-radius:50%;
      animation: loader-rotate 2s linear infinite;
    }

    @keyframes loader-rotate {
      0%   { transform: rotate(90deg); box-shadow:0 10px 20px 0 #3f3f46 inset,0 20px 30px 0 #27272a inset,0 60px 60px 0 #18181b inset; }
      50%  { transform: rotate(270deg); box-shadow:0 10px 20px 0 #3f3f46 inset,0 20px 10px 0 #52525b inset,0 40px 60px 0 #09090b inset; }
      100% { transform: rotate(450deg); box-shadow:0 10px 20px 0 #3f3f46 inset,0 20px 30px 0 #27272a inset,0 60px 60px 0 #18181b inset; }
    }

    .loader-letter {
      display:inline-block;
      opacity:.4; animation: loader-letter-anim 2s infinite;
      color:#6b7280;
    }

    @keyframes loader-letter-anim {
      0%,100%{opacity:.4; transform:translateY(0);}
      20%{opacity:1; transform:scale(1.2);}
      40%{opacity:.7;}
    }
  </style>
</head>

<body class="bg-zinc-900 text-white flex items-center justify-center min-h-screen">

  <!-- Background -->
  <div class="bg-gradient"></div>
  <div class="bottom-gradient"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
  <div class="grid-pattern"></div>

  <!-- Loader -->
  <div id="loader" class="overlay-center hidden">
    <div class="loader-wrapper">
      <span class="loader-letter" style="--i:1">C</span>
      <span class="loader-letter" style="--i:2">r</span>
      <span class="loader-letter" style="--i:3">e</span>
      <span class="loader-letter" style="--i:4">a</span>
      <span class="loader-letter" style="--i:5">t</span>
      <span class="loader-letter" style="--i:6">i</span>
      <span class="loader-letter" style="--i:7">n</span>
      <span class="loader-letter" style="--i:8">g</span>
      <div class="loader"></div>
    </div>
  </div>

  <!-- Form box -->
  <div id="formBox"
    class="w-full max-w-md p-10 rounded-3xl bg-black/40 backdrop-blur-2xl shadow-2xl border border-zinc-800/50 transition form-enter relative overflow-hidden">

    <div class="absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-transparent rounded-3xl pointer-events-none"></div>

    <h2 class="text-4xl font-bold text-center mb-2 title-shimmer">Create Account</h2>
    <p class="text-center text-zinc-500 mb-8">Enter details to register</p>

    <form id="signupForm" action="/create" method="POST" class="space-y-6">

      <div class="input-glow">
        <input type="text" name="username"
          class="w-full px-5 py-4 rounded-xl bg-black/60 border border-zinc-800 focus:border-zinc-600 text-zinc-300 placeholder-zinc-600"
          placeholder="Username" required>
      </div>

      <div class="input-glow">
        <input type="email" name="email"
          class="w-full px-5 py-4 rounded-xl bg-black/60 border border-zinc-800 focus:border-zinc-600 text-zinc-300 placeholder-zinc-600"
          placeholder="Email" required>
      </div>

      <div class="input-glow">
        <input type="text" name="age"
          class="w-full px-5 py-4 rounded-xl bg-black/60 border border-zinc-800 focus:border-zinc-600 text-zinc-300 placeholder-zinc-600"
          placeholder="Age" required>
      </div>

      <div class="input-glow">
        <input type="password" name="password"
          class="w-full px-5 py-4 rounded-xl bg-black/60 border border-zinc-800 focus:border-zinc-600 text-zinc-300 placeholder-zinc-600"
          placeholder="Password" required>
      </div>

      <button id="submitBtn" type="button"
        class="w-full py-3 rounded-xl bg-gradient-to-r from-zinc-800 to-zinc-900 hover:from-zinc-700 hover:to-zinc-800 border border-zinc-700 font-semibold text-base btn-shine shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]">
        Create Account
      </button>

      <!-- LOGIN BUTTON -->
      <a href="/login"
        class="block text-center py-3 rounded-xl bg-black/40 hover:bg-black/50 border border-zinc-700 transition text-zinc-300 font-semibold hover:underline">
        Already have an account? Login
      </a>

    </form>

  </div>

  <script>
  const form = document.getElementById("signupForm");
  const btn = document.getElementById("submitBtn");
  const loader = document.getElementById("loader");
  const box = document.getElementById("formBox");

  window.addEventListener("pageshow", () => {
    box.classList.remove("fade");
    loader.classList.add("hidden");
    btn.disabled = false;
    btn.textContent = "Create Account";
  });

  // ⭐ New validation function
  function validateForm() {
    const username = form.username.value.trim();
    const email = form.email.value.trim();
    const age = form.age.value.trim();
    const password = form.password.value.trim();

    if(username.length < 3){
      alert("Username should be at least 3 characters.");
      return false;
    }

    if(!email.includes("@") ){
      alert("Please enter a valid email address.");
      return false;
    }

    if(isNaN(age) || age <= 0){
      alert("Age must be a valid number.");
      return false;
    }

    if(password.length < 6){
      alert("Password must be at least 6 characters.");
      return false;
    }

    return true;
  }

  btn.addEventListener("click", () => {

    if(!validateForm()) return;  // ❗ stop here if invalid

    btn.disabled = true;
    btn.textContent = "Please wait...";
    box.classList.add("fade");
    loader.classList.remove("hidden");

    setTimeout(() => form.submit(), 3000);
  });
</script>

  

</body>
</html>
